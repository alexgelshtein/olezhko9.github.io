<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Коллажы</title>

</head>

<body>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let canvas = document.createElement('canvas');
            canvas.setAttribute('id', 'collage');
            canvas.width = 640;
            canvas.height = 480;
            document.body.appendChild(canvas);

            cross = {
                x: Math.round(1 / 3 * canvas.width + Math.random() * 1 / 3 * canvas.width),
                y: Math.round(1 / 3 * canvas.height + Math.random() * 1 / 3 * canvas.height),
            }

            console.log(cross);

            var ctx = canvas.getContext("2d");
            ctx.fillStyle = "red"
            ctx.fillRect(0, 0, cross.x, cross.y);

            ctx.fillStyle = "blue"
            ctx.fillRect(cross.x, 0, canvas.width, cross.y);

            ctx.fillStyle = "green"
            ctx.fillRect(0, cross.y, cross.x, canvas.height);

            ctx.fillStyle = "yellow"
            ctx.fillRect(cross.x, cross.y, canvas.width, canvas.height);


            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'http://api.forismatic.com/api/1.0/', true);
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.setRequestHeader('Access-Control-Allow-Origin', '*');

            let body = 'method=' + encodeURIComponent('getQuote') +
                '&format=' + encodeURIComponent('json') +
                '&lang=' + encodeURIComponent('ru');

            xhr.onload = function() {
                if (xhr.status != 200) {
                    console.log(xhr.status + ': ' + xhr.statusText);
                } else {
                    console.log(xhr.responseText);
                }
            }

            xhr.onerror = function() {
                console.log('Ошибка ' + this.status);
            }

            xhr.send(body);
        });

    </script>
</body>

</html>
